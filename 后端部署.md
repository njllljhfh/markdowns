47wd4（组件层后），wd1（串检）

87wd4（层前）



being@192.168.10.87，密码：mt20200902。

matrixsolar@192.168.10.47 密码：jskj0312

---





## 后端代码修改

算法配置，setting



---





## 算法

### 更新算法代码

```shell
# 切换机台的 half_cell_pv_module_inspection 目录下
# 如：/home/matrixsolar/Project/JN2000/WD1/JN2000-Distributed/dl_modules/half_cell_pv_module_inspection
# 具体用哪个分支，跟算法组确定（罗长治）
git pull
```



---



### 新算法地址

查看nfs挂载目录

```shell
# 在 /etc/fstab 文件中 可以查看 nfs本地地址为：/data/changzhimodels 
vim /etc/fstab
```



---



### 替换算法模型

要切换到某个基台相应的模型目录下，看该目录下有哪些 以models结尾的文件夹，替换掉该文件夹。

```shell
# 替换 detection_el 
#切换到对应目录下，如：/home/matrixsolar/Project/JN2000/WD1/JN2000-Distributed/dl_modules/half_cell_pv_module_inspection/detection_el
rm -rf ./module_models && cp -r /data/changzhimodels/ats_sz/release_version/model/v2.1/detection_el/module_models/ ./

rm -rf ./series_models && cp -r /data/changzhimodels/ats_sz/release_version/model/v2.1/detection_el/series_models/ ./

# 替换 detection_vi 
# 切换到对应目录下，如：/home/matrixsolar/Project/JN2000/WD1/JN2000-Distributed/dl_modules/half_cell_pv_module_inspection/detection_vi
rm -rf ./module_models && cp -r /data/changzhimodels/ats_sz/release_version/model/v2.1/detection_vi/module_models/ ./

rm -rf ./series_models && cp -r /data/changzhimodels/ats_sz/release_version/model/v2.1/detection_vi/series_models/ ./

# 替换 stitching_el
# 切换到对应目录下，如：/home/matrixsolar/Project/JN2000/WD1/JN2000-Distributed/dl_modules/half_cell_pv_module_inspection/stitching_el
rm -rf ./module_models && cp -r /data/changzhimodels/ats_sz/release_version/model/v2.1/stitching_el/module_models/ ./

rm -rf ./series_models && cp -r /data/changzhimodels/ats_sz/release_version/model/v2.1/stitching_el/series_models/ ./

# 替换 stitching_vi
# 切换到对应目录下，如：/home/matrixsolar/Project/JN2000/WD1/JN2000-Distributed/dl_modules/half_cell_pv_module_inspection/stitching_el
rm -rf ./module_models && cp -r /data/changzhimodels/ats_sz/release_version/model/v2.1/stitching_vi/module_models/ ./

rm -rf ./series_models && cp -r /data/changzhimodels/ats_sz/release_version/model/v2.1/stitching_vi/series_models/ ./
```



---



## 设置vim

```shell
sudo vim /etc/vim/vimrc

#添加
set nu
set ts=4
set expandtab
set autoindent

```





## git

### 拉取远程分支并创建本地分支

```
git checkout -b 本地分支名x origin/远程分支名x
```





### git push代码到远程新分支

```
git branch
>>> *master
git push origin master:my_remote_new_branch
#远端即可创建新的分支my_remote_new_branch,提交本地修改
```

