### 一、获取历史任务列表接口

```
API名称： 获取历史任务列表
描述：历史任务列表，前端界面可从历史任务中加载任务
数据格式：JSON
方法：HTTP GET
是否需要用户授权：暂定
请求URL：http://10.211.203.75:8000/training/tasks/list
```

1、请求数据格式

```json
# 后续功能加上权限，获取cookie中的用户id
http://10.211.203.75:8000/training/tasks/list?page=2&num=10

# page是页码，是当前请求数据，按分页显示；page取值从1开始，第1页时可以不传，默认未1
# num是每页数据个数，是每页显示多少条数据；此参数是可选参数，可以不传，默认10条
# 如果自定义每页显示数据的条数，那每次分页请求都要传参num参数；避免漏传和分页获取时num参数值不一致，以免漏显示数据
```

2、返回数据格式

```json
# 返回一个列表
{
    "code":0,		# 请求成功
    "msg":"OK",
    "task_list":[								# 没有数据的时候是空列表
    	{
    		"task_id":"2018080810000000001",	# 任务编号ID，加载历史任务时要传递的参数
        	"task_name":"xxxxxxxxx",			# 任务名称
        	"datetime":"2018/08/08 11:29"		# 创建时间
    	},
    	# ... 第二个任务信息 ...
	],
	"next_page": true							# 判断是否有下一页数据，没有的时候值为false
}
```



### 二、加载历史任务接口

```
API名称： 加载指定历史任务
描述：通过任务ID加载指定历史任务
数据格式：JSON
方法：HTTP GET
是否需要用户授权：暂定
请求URL：http://10.211.203.75:8000/training/tasks/history/<int:tid>
```

1、请求数据格式

```json
http://10.211.203.75:8000/training/tasks/history/2018080299304719693
# 最后面数字是task_id
```

2、返回数据格式

```json
{
    "code":0,		# 请求成功
    "msg":"OK",
    "task_type":1,		# 任务类型，取值1，2，3；DL时要用到
    "image_list":[
        {
          "set_type": 0,	# 集合类型 取值 0，1，2;从数据库直接获取的，对应关系查看相应接口
          "img_name":"xxx.jpg",			    # 图片名称
          "img_id":"2018080810000000001",		# 图片ID编号，字符串格式
          "width":2000,					    # 图片宽
          "height":1000,					    # 图片高
          # 后面可能会添加表示图片状态的字段，但是现在先不做处理
          "state":"已标注",					  # 图片状态，分为已标注，已训练，已测试
          "order_id":1,						# 图片序号，从1开始
  				"mongo_id": "xxxxxxxxxx"
        },
        {
            # ... 第二张图片信息
        }
    ],
    "lab_class_list":[					   # 标签类列表
    	{
    		"id":12,			  		   # 标签类ID
    		"name":"xxx",		  		   # 标签类名
    		"color": "#223344",	 	   	   # 标签类颜色，16进制
    		"order_id":1,				   # 标签类序号，（可以不传，按顺序给就行）
        },
		# 第二个标签类
    ],
}
```



```
task_type
分类：1； 分割：2； 检测：3
```


